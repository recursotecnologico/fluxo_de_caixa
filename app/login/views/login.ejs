<!doctype html>
<html lang="pt-BR">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Fonte awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Hello, world!</title>
    <style>
      body{
        background-color: #eee;
      }
      main{
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        width: 100vw;
      }
      .painel{
        background-color: white;
        padding: 20px;
        border-radius: 20px;
        box-shadow: 0 0 10px 3px rgba(0, 0, 0, 0.2);
        border: 1px solid gray;
      }
    </style>
  </head>
  <body>
    <main>
      
      <div class="painel">
        <div>
          <%if((locals.errors != undefined) && (errors.length > 0)){
            errors.forEach(function(item){%>
              <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <%-item.message%>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            <%})
          }%>
        </div>

        <form id="formulario" action="/login" method="post">
          <div class="mb-3">
            <label for="login" class="form-label">Login</label>
            <%if(locals.login == undefined){%>
              <input type="text" value="" name="login" class="form-control form-control-sm" id="login" aria-describedby="loginHelp">
            <% }else{ %>
              <input type="text" value="<%-login %>" name="login" class="form-control form-control-sm" id="login" aria-describedby="loginHelp">
            <% } %>
            <div id="loginHelp" class="form-text">Nunca compartilhe sua senha com ningu√©m</div>
          </div>
          <div class="mb-3">
            <label for="senha" class="form-label">Senha</label>
            <% if(locals.senha == undefined){%>
              <input type="password" value="" name="senha"  class="form-control form-control-sm" id="senha">

            <%}else{%>
              <input type="password" value="<%-senha %>" name="senha"  class="form-control form-control-sm" id="senha">
            <%}%>
          </div>
          <button type="submit" class="btn btn-primary btn-sm">Enviar</button>
        </form>
      </div>
    </main>

    <!-- Optional JavaScript; choose one of the two! -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>

        // const $_formulario = document.querySelector('#formulario');
        // const $_login = document.querySelector('#login');
        // const $_senha = document.querySelector('#senha');

        // $_formulario.addEventListener('submit', async event=>{
        //   event.preventDefault();
        //   const input = {};
        //   input.login = $_login.value;
        //   input.senha = $_senha.value;
        //   const api = {}
        //   api.url = '/api/v1/autenticacao/login';
        //   api.resposta = await fetch(api.url, {
        //     method: 'POST',
        //     headers: {
        //       'Accept': 'application/json',
        //       'Content-type': 'application/json'             
        //     },
        //     body: JSON.stringify(input)
        //   })
        //   console.log(api.resposta);
        //   switch(api.resposta.status){
        //     case 200:
        //       api.result = await api.resposta.json();
        //       //console.log(api.result);
        //       document.cookie = "token="+api.result.token;
        //       window.location.replace('/');              
        //     break
        //   }
        // })




    </script>
  </body>
</html>



